<!-- HTML header for doxygen 1.9.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NASA Astrobee Robot Software: GNC Visualizer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.png" type="image/png" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="freeflyer.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 70px;">
  <td id="projectlogo"><img alt="Logo" src="astrobee-logo.png" height="100"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NASA Astrobee Robot Software
   &#160;<span id="projectnumber">0.17.0</span>
   </div>
   <div id="projectbrief">Flight software for the Astrobee robots operating inside the International Space Station.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('gncvisualizer.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">GNC Visualizer </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This tool visualizes the GNC status of the robot. For using the tool, see the menu bar when the tool is open. There are many useful hotkeys, indicated in the menu bar.</p>
<p>You may use one of the following two communication methods:</p>
<h2><a class="anchor" id="autotoc_md622"></a>
ROS Mode</h2>
<p>This is the default communication method. Use this if you are running on simulation or inside the robot local network. <b>It requires rospy dependencies</b>.</p>
<p>You may use the <code>--comm</code> argument to set the <code>ros</code> value. Example:</p>
<div class="fragment"><div class="line">python ./scripts/visualizer.py --comm ros</div>
</div><!-- fragment --><p>You may also add <code>--gantry</code>, <code>--granite</code>, <code>--bag</code>, and <code>--sim</code> to start the appropriate roslaunch file as well. Another argument, <code>--plan</code>, lets you specify a plan file that can be started by pressing <code>p</code>. Please be advised, <b>these arguments only work in ROS mode</b>.</p>
<h2><a class="anchor" id="autotoc_md623"></a>
DDS Mode</h2>
<p>This communication method allows you to read data from DDS topics. Use this option if you want to get telemetry from a DDS enabled network (e.g. Astrobee on orbit, space-like ground networks, <a class="el" href="namespacedds__ros__bridge.html">dds_ros_bridge</a> on simulation). Note that many menu options are disabled when using this communication method.</p>
<p>You may use the <code>--comm</code> argument to set the <code>dds</code> value. Example:</p>
<div class="fragment"><div class="line">python ./scripts/visualizer.py --comm dds</div>
</div><!-- fragment --><p>This action will read the file located in <code>./scripts/communications/config.ini</code>. It contains default values to run on simulation with DDS enabled. You may edit this file in order to add peers, change the participant name, set the DDS domain and/or add a public IP address for TReK communications.</p>
<p>Instead of modifying the configuration file, you may set these values by adding <code>--robot_name</code>, <code>--use_ip</code>, <code>--domain</code> and/or <code>--public_ip</code>. When used, these arguments will take precedence over the configuration file. If an argument is invalid or not present the script will fall back to the configuration file. Example:</p>
<div class="fragment"><div class="line"># Override initial_peers and participant name but keep domain and public IP</div>
<div class="line"># same as the configuration file</div>
<div class="line">python visualizer.py --comm dds --use_ip 10.42.0.37 --robot_name Bumble</div>
</div><!-- fragment --><p>Please be advised this tool will not read data from DDS topics until you manually set <code>ekf</code>, <code>gnc</code>, and <code>pmc</code> states to a value higher than 0 using the Ground Data System (Engineering Tab).</p>
<p>Additionally, <b>make sure your firewall is not blocking DDS communications</b>.</p>
<h3><a class="anchor" id="autotoc_md624"></a>
On-orbit activities</h3>
<p>For <b>on-orbit activities</b>, when running <b>inside of a TRek environment</b>, you may use the <code>--public_ip</code> argument to state the <code>ON_BOARD_PROXY_IP</code>, <code>--use_ip</code> for the <code>GROUND_PROXY_IP</code> and <code>--robot_name</code> to set the agent. Example:</p>
<div class="fragment"><div class="line"># Override participant name, initial peers and public IP, but keep the</div>
<div class="line"># default domain from configuration file</div>
<div class="line">python visualizer.py --comm dds --robot_name Bumble --use_ip 0.0.0.0 \</div>
<div class="line">  --public_ip 0.0.0.0</div>
</div><!-- fragment --><p><em><b>Note: Setting the <code>--public_ip</code> argument outside of a TReK environment may prevent the program from getting telemetry.</b></em></p>
<p>For <b>on-orbit activities</b>, when running outside of a TRek environment but <b>using the DDS2 relay server</b>, you may set the <code>--use_ip</code> argument to the DDS2 IP address and <code>--domain</code> to one of the DDS_GROUND_DOMAIN IDs. Example:</p>
<div class="fragment"><div class="line"># Override participant name, initial peers and domain, but keep the default</div>
<div class="line"># public_ip (should be empty) from the configuration file</div>
<div class="line">python visualizer.py --comm dds --robot_name Bumble --use_ip 0.0.0.0 \</div>
<div class="line">  --domain 29</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md625"></a>
Dependencies</h2>
<p>This tool makes use of standard python modules present in most Linux and Windows implementations.</p>
<h3><a class="anchor" id="autotoc_md626"></a>
If used along with the Astrobee Robot Software</h3>
<p>If you followed the installation instructions for this repository, you should already have all the needed dependencies to run this tool <b>in ROS mode</b>.</p>
<p>In order to run this tool in <b>DDS mode</b> you need an additional dependency:</p>
<ul>
<li>rticonnextdds_connector</li>
</ul>
<h3><a class="anchor" id="autotoc_md627"></a>
If using as a standalone tool</h3>
<p>You may use this program as a standalone tool <b>only in DDS mode</b>. You may copy the whole <code>gnc_visualizer</code> folder to the destination computer and install missing dependencies.</p>
<p>Depending on your system, you may need to install the following packages:</p>
<ul>
<li>pyqtgraph</li>
<li>PyQt4 and/or PyQt5</li>
<li>numpy</li>
<li>rticonnextdds_connector</li>
</ul>
<p>Any other usage is not recommended.</p>
<h2><a class="anchor" id="autotoc_md628"></a>
Installing dependencies</h2>
<p>Here you will find suggestions on how to install some dependencies needed for this tool usage.</p>
<h3><a class="anchor" id="autotoc_md629"></a>
Installing Python</h3>
<p>Make sure <b>Python 2.7.x</b> is installed on your computer. You may get it from your package manager or from <a href="https://www.python.org/downloads/">the official website</a></p>
<p>If you followed the Astrobee install, Python should be already installed</p>
<h3><a class="anchor" id="autotoc_md630"></a>
Installing PIP</h3>
<p>You may install pip using <code>apt</code> or <code>yum</code>. Otherwise, try the following:</p>
<p>(Alternative) </p><div class="fragment"><div class="line">wget https://bootstrap.pypa.io/get-pip.py # Or download it from a browser</div>
<div class="line">python get-pip.py</div>
<div class="line">python -m pip install --upgrade pip setuptools wheel</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md631"></a>
Installing the RTI connector (DDS Only)</h3>
<ul>
<li>Note: RTI Connext DDS Connector is under the RTI license.</li>
</ul>
<p>Install the RTI software</p>
<div class="fragment"><div class="line"># Use pip2 instead if needed</div>
<div class="line">pip install rticonnextdds_connector</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md632"></a>
Installing QT in standalone mode</h3>
<ul>
<li>Note: If you followed the Astrobee install (Ubuntu only), this should not be needed.</li>
</ul>
<div class="fragment"><div class="line"># Use pip2 instead if needed</div>
<div class="line">pip install pyqtgraph</div>
<div class="line"> </div>
<div class="line">## Use one of the following depending on your platform</div>
<div class="line"> </div>
<div class="line"># CentOS 7</div>
<div class="line">yum -y install PyQt4</div>
<div class="line"> </div>
<div class="line"># Ubuntu 16.04</div>
<div class="line">apt-cache search pyqt</div>
<div class="line">sudo apt-get install python-qt4</div>
<div class="line"> </div>
<div class="line"># Windows 10</div>
<div class="line">#</div>
<div class="line"># Download the wheel package</div>
<div class="line"># One possible location: https://www.lfd.uci.edu/~gohlke/pythonlibs/#pyqt4</div>
<div class="line"># Make sure you download a cp27 version</div>
<div class="line">#</div>
<div class="line"># Or build it from source code: https://www.riverbankcomputing.com/software/pyqt/download</div>
<div class="line">#</div>
<div class="line"># Then install it (use pip2 if needed):</div>
<div class="line">pip install PyQt4-[...].whl</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md633"></a>
Platform support</h2>
<p>This software has been tested on:</p>
<ul>
<li>Ubuntu 16.04 (Python 2.7.12)</li>
<li>Kubuntu 16.04 (Python 2.7.12)</li>
<li>CentOS 7 (Python 2.7.5)</li>
<li>Windows 10 (Python 2.7.17)</li>
</ul>
<p><a class="el" href="gnc_visualizer_dds.html">GNC Visualizer DDS</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.0-->
<!-- start footer part -->
<script type="text/javascript" src="/astrobee/doc_version_select.js"></script>
</body>
</html>
