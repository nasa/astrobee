<!-- HTML header for doxygen 1.9.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NASA Astrobee Robot Software: Localization Analysis</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.png" type="image/png" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="freeflyer.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 70px;">
  <td id="projectlogo"><img alt="Logo" src="astrobee-logo.png" height="100"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NASA Astrobee Robot Software
   &#160;<span id="projectnumber">0.17.1</span>
   </div>
   <div id="projectbrief">Flight software for the Astrobee robots operating inside the International Space Station.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('localizationanalysis.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Localization Analysis </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md644"></a>
Package Overview</h1>
<p>The localization analysis package provides several tools for measuring localization performance as described below.</p>
<h2><a class="anchor" id="autotoc_md645"></a>
Usage Instructions</h2>
<p>For each tool and script, run <code>rosrun <a class="el" href="namespacelocalization__analysis.html">localization_analysis</a> tool_or_script_name -h</code> for further details and usage instructions.</p>
<h1><a class="anchor" id="autotoc_md646"></a>
Tools</h1>
<h2><a class="anchor" id="autotoc_md647"></a>
&lt;tt&gt;convert_depth_msg&lt;/tt&gt;</h2>
<p>Converts depth messages in a provided bagfile to intensity images.</p>
<h2><a class="anchor" id="autotoc_md648"></a>
&lt;tt&gt;run_bag_imu_filterer&lt;/tt&gt;</h2>
<p>Reads through a bag file and filters imu measurements, replacing the old imu measurements with new filtered ones. The filtered data is saved to a bagfile and can be plotted and analyzed using the imu_analyzer script.</p>
<h2><a class="anchor" id="autotoc_md649"></a>
&lt;tt&gt;run_depth_odometry_adder&lt;/tt&gt;</h2>
<p>Generates depth odometry relative poses using recorded depth camera data and saves these to a bag file.</p>
<h2><a class="anchor" id="autotoc_md650"></a>
&lt;tt&gt;run_graph_bag&lt;/tt&gt;</h2>
<p>Runs graph localization on a bagfile and saves the results to a new bagfile. The results can be plotted using the <code>plot_results.py</code> script.</p>
<h2><a class="anchor" id="autotoc_md651"></a>
&lt;tt&gt;run_imu_bias_tester_adder&lt;/tt&gt;</h2>
<p>Generates imu bias integrated poses and saves these to a bagfile. The results can be plotted using the <code>plot_results.py</code> script. See the <code><a class="el" href="namespaceimu__bias__tester.html">imu_bias_tester</a></code> package readme for more details.</p>
<h2><a class="anchor" id="autotoc_md652"></a>
&lt;tt&gt;run_sparse_mapping_pose_adder&lt;/tt&gt;</h2>
<p>Generates sparse mapping poses using sparse mapping feature messages and the body_T_nav_cam extrinsics from the provided robot config file.</p>
<h1><a class="anchor" id="autotoc_md653"></a>
Scripts</h1>
<h2><a class="anchor" id="autotoc_md654"></a>
&lt;tt&gt;bag_and_parameter_sweep&lt;/tt&gt;</h2>
<p>Runs a parameter sweep on a set of bagfiles. See parameter_sweep.py and bag_sweep.py for more details on parameter and bag sweeps.</p>
<h2><a class="anchor" id="autotoc_md655"></a>
&lt;tt&gt;bag_sweep&lt;/tt&gt;</h2>
<p>Runs the graph bag tool in parallel on multiple bag files. It takes config file with bag names, map names, and robot configs and produces pdfs and result bagfiles for each entry. Example config file: <br  />
 </p><div class="fragment"><div class="line">/home/bag_name.bag /home/map_name.map /mgt/img_sampler/nav_cam/image_record /home/astrobee/src/astrobee config/robots/bumble.config iss false  </div>
<div class="line">/home/bag_name_2.bag /home/map_name.map /mgt/img_sampler/nav_cam/image_record /home/astrobee/src/astrobee config/robots/bumble.config iss false</div>
</div><!-- fragment --><p>Example bag sweep command: <br  />
 </p><div class="fragment"><div class="line">rosrun localization_analysis bag_sweep.py /home/bag_sweep_config.csv /home/output_dir</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md656"></a>
&lt;tt&gt;depth_odometry_parameter_sweep&lt;/tt&gt;</h2>
<p>Runs a parameter sweep for depth odometry relative pose estimation and plots the results.</p>
<h2><a class="anchor" id="autotoc_md657"></a>
&lt;tt&gt;get_average_opt_and_update_times&lt;/tt&gt;</h2>
<p>Prints stats for the optimization and update times of the graph localizer from the recorded graph_state messages in the provided bagfile.</p>
<h2><a class="anchor" id="autotoc_md658"></a>
&lt;tt&gt;groundtruth_sweep&lt;/tt&gt;</h2>
<p>Creates groundtruth in parallel for a set of bagfiles.</p>
<h2><a class="anchor" id="autotoc_md659"></a>
&lt;tt&gt;imu_analyzer&lt;/tt&gt;</h2>
<p>Generates comparison plots for raw and filtered <a class="el" href="structIMU.html">IMU</a> data.</p>
<h2><a class="anchor" id="autotoc_md660"></a>
&lt;tt&gt;make_groundtruth&lt;/tt&gt;</h2>
<p>Creates a groundtruth map and bagfile containing groundtruth poses for a provided bagfile.</p>
<h2><a class="anchor" id="autotoc_md661"></a>
&lt;tt&gt;make_map&lt;/tt&gt;</h2>
<p>Creates a map for a provided bagfile, optionally merged with an existing map as well.</p>
<h2><a class="anchor" id="autotoc_md662"></a>
&lt;tt&gt;parameter_sweep&lt;/tt&gt;</h2>
<p>Runs a parameter sweep for the graph localizer on a bagfile and plots the results.</p>
<h2><a class="anchor" id="autotoc_md663"></a>
&lt;tt&gt;plot_all_results&lt;/tt&gt;</h2>
<p>Plots localization results for each bagfile in a directory.</p>
<h2><a class="anchor" id="autotoc_md664"></a>
&lt;tt&gt;plot_results&lt;/tt&gt;</h2>
<p>Plots localization information for a bagfile to a pdf. Uses either sparse mapping poses from the input bagfile or a seperate bagfile containing groundtruth poses for comparison with the localization estimates.</p>
<h2><a class="anchor" id="autotoc_md665"></a>
&lt;tt&gt;run_graph_bag_and_plot_results&lt;/tt&gt;</h2>
<p>Generates localization estimates and plots results for a provided bagfile. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.0-->
<!-- start footer part -->
<script type="text/javascript" src="/astrobee/doc_version_select.js"></script>
</body>
</html>
