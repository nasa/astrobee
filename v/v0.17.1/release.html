<!-- HTML header for doxygen 1.9.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NASA Astrobee Robot Software: Creating a Flight Release</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.png" type="image/png" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="freeflyer.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 70px;">
  <td id="projectlogo"><img alt="Logo" src="astrobee-logo.png" height="100"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NASA Astrobee Robot Software
   &#160;<span id="projectnumber">0.17.1</span>
   </div>
   <div id="projectbrief">Flight software for the Astrobee robots operating inside the International Space Station.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('release.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Creating a Flight Release </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This page describes the steps required to complete a flight release. It assumes that your environment is configured to cross-compile the fsw for the <code>armhf</code> architecture.</p>
<h2><a class="anchor" id="autotoc_md108"></a>
Create a Release Branch</h2>
<p>Release branches will be created on a user's fork. To make a release branch, checkout and update develop. Then make a release branch off of develop. Please name the branch release-0.x.x.</p>
<p>Please note that creating a release branch and specifying a version number indicates that the code on the branch is frozen with respect to further feature changes. However, as you identify bugs during lab testing before deployment to the ISS, you can still apply bug fixes on that release branch without incrementing the version number. Of course, that means that as you iterate, you might end up generating multiple debs with the same version number. For configuration management purposes, when checking whether two deployments used identical debs, you should always compare their git commit hashes rather than their version numbers.</p>
<h2><a class="anchor" id="autotoc_md109"></a>
Update the Release Version</h2>
<p>The release version must be updated before creating the Debian. Please use the update release script to do this. Before running the script, get a list of features that have been added since the last release. This list will need to be added to the change log that gets edited when the script is run. Also, in the change log, change UNRELEASED to testing and change the email address to the astrobee fsw email address as in previous log entries. </p><pre class="fragment">./scripts/setup/debians/update_release.sh 0.x.x
</pre><p><em>Note: Make sure that your EDITOR variable is set to your preferred editor before invoking this script. Using vim seems to generate an unimportant error.</em></p>
<h2><a class="anchor" id="autotoc_md110"></a>
Commit and Push Version Change</h2>
<p>Please make sure to commit and push all the files that were changed.</p>
<h2><a class="anchor" id="autotoc_md111"></a>
Create the Debians</h2>
<p>Your environment needs to be configured properly to cross-compile Astrobee Robot Software for the <code>armf</code> architecture. See <a class="el" href="NASA__INSTALL_8md.html">NASA Install documentation</a>. </p><pre class="fragment">./scripts/build/build_debian.sh
</pre><h2><a class="anchor" id="autotoc_md112"></a>
Testing the Release</h2>
<p>On confluence, there is a <a href="https://babelfish.arc.nasa.gov/confluence/display/FFFSW/IRG-FFTEST302+-+Astrobee+Release+Testing">release testing procedure</a>. This procedure will walk you through all the testing that needs to be done to make sure the debian is flight ready. Please create a copy of the procedure by clicking on the ellipsis at the top right corner of the page and selecting copy. In the popup, in the 'Parent page' text box, please enter 'Executed Procedures' and click 'Copy'. Remove 'Copy of' from the title and add the version and date after the test number such that it looks like 'IRG-FFTEST302 - 0.x.x -YYYY-MM-DD - Astrobee Release Testing'. Be sure to fill out the 'As-Ran Summary' table and the '<a class="el" href="structResult.html">Result</a>' and 'Notes' column for every step. After running through the procedure, please provide a brief summary of your results in the <a href="https://babelfish.arc.nasa.gov/confluence/display/FFFSW/Release+Testing+Results">release testing results table</a>.</p>
<h2><a class="anchor" id="autotoc_md113"></a>
Fix Bugs</h2>
<p>If there are bugs that arise during testing, please fix the bugs, push the fixes, recreate the debians, and repeat the release testing procedure.</p>
<h2><a class="anchor" id="autotoc_md114"></a>
Finish Release</h2>
<p>Once the debians pass all the required testing, it is ready to become an official flight release. Please make one pull request on astrobee develop. Set Brian, Katie, or Marina as the reviewer. They will review the request and do the merging into develop and master. You will also need to copy the debians to a temporary location on volar. </p><pre class="fragment">scp astrobee0_0.x.x_armhf.deb \
  &lt;ndc_username&gt;@volar:/home/p-free-flyer/free-flyer/FSW/ars_debs/release_candidate/
scp astrobee-config_0.x.x_all.deb \
  &lt;ndc_username&gt;@volar:/home/p-free-flyer/free-flyer/FSW/ars_debs/release_candidate/
scp astrobee-dev_0.x.x_armhf.deb \
  &lt;ndc_username&gt;@volar:/home/p-free-flyer/free-flyer/FSW/ars_debs/release_candidate/
</pre><p>After the debians have been copied to volar, make sure the group permissions are set to read and right. Finally, please email Ruben Garcia Ruiz so that he can sign it and stage it.</p>
<h3><a class="anchor" id="autotoc_md115"></a>
Merging into Develop and Master</h3>
<p>This section is for reviewers only! After reviewing the pull request and verifying that the release passed all sections of the release testing procedure, please merge the pull request into develop. You will then need to merge the develop branch into master (squash and merge). After this merge, please create a github release and merge master back into develop (merge commit). </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.0-->
<!-- start footer part -->
<script type="text/javascript" src="/astrobee/doc_version_select.js"></script>
</body>
</html>
